@page "/view/{Site}"

<div class="page-header" style=" margin-top:70px;text-align:center;">
    @if (LoadDone)
    {
        <h1 style="text-align:center;">Loading</h1>
    }
    else
    {
        if (result == null)
        {
            <h1 style="text-align:center;">Not Found!</h1>
        }
        else
        {
            <h1><a href="@(result.Url)">@(result.Name)</a></h1>
            <h3>@(result.Descript)</h3>
        }
    }
</div>
@if (CurrentChapter != null)
{
    <h3 style="text-align:center;">
        <a href="@(CurrentChapter.Chapter.TargetUrl)">@(CurrentChapter.Chapter.Title)</a>
    </h3>
    foreach (var page in CurrentChapter.Pages)
    {
        <img src="@(page.TargetUrl)" alt="@(page.Name)" style="width:100%;height:100%;" title="@(page.TargetUrl)" />
    }
    <div style="text-align:center;">
        <nav aria-label="Page navigation">
            <ul class="pagination">
                <li>
                    <a @onclick="_=>Prev()" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                    </a>
                </li>
                @for (int i = 0; i < result.ChapterWithPages.Length; i++)
                {
                    <li class="@(CurrentIndex==i?"active":string.Empty)"><a @onclick="_=>ToPage(i)">@(i+1)</a></li>
                }
                <li>
                    <a @onclick="_=>Next()" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            </ul>
        </nav>
    </div>
}
<div class="alert alert-info" role="alert">View slow, taste it carefully</div>